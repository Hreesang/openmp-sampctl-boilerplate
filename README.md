# Open Multiplayer (RC2) SAMPCTL Boilerplate

[![sampctl](https://img.shields.io/badge/sampctl-openmp--sampctl--boilerplate-2f2f2f.svg?style=for-the-badge)](https://github.com/Hreesang/openmp-sampctl-boilerplate)

This repository is for you who wants to make open.mp compatible with sampctl. With some little tweaks, it manages to be able to work together:

- Removing `LegacyOption` component so it won't automatically parse `server.cfg` generated by sampctl.
- Changing sampctl runtime to `main`, making it unable to run the server normally. So now, `sampctl run` is only used to re-ensure the plugins. This makes sampctl being a package management tool only.

## Installation

Clone this repository:

```bash
git clone https://github.com/Hreesang/openmp-sampctl-boilerplate.git
cd openmp-sampctl-boilerplate
sampctl ensure
```

Once it's fully downloaded and ensured, now it's your time to be creative.

## Building and Running

To build a gamemode, you have to change the entry and output file on `pawn.json` then simply do

```bash
sampctl build
```

Next, open `config.json` and change `pawn.main_scripts` to be your gamemode names, it works the same like SA:MP's `server.cfg` but in array.

To run your server, use this command on your command prompt

```bash
omp-server
```

## Dependencies

### open.mp Components

Move the binaries (`.dll` and `.so` files) to `components/` folder and its include file (`.inc`) to `legacy/` folder. Yes, you need to do it manually.

### Non-open.mp Components / SA:MP Plugins

Same with how you normally add SA:MP plugins with sampctl, but now you need to open `config.json` and add the binaries' names on `pawn.legacy_plugins` array.

```json
{
  "pawn": {
    "legacy_plugins": ["crashdetect", "PawnPlus", "..."]
  }
}
```

## FAQ

```
Q: Why do you include all the open.mp binaries?
A: So you don't need to bother yourself. I intend to make this boilerplate to be plug-n-play.
```

```
Q: What if the binaries are outdated?
A: Let me know. I'll update it. Or, you can make a PR updating the binaries.
```

```
Q: What did you do with SA:MP default gamemodes?
A: I made them to adapt open.mp natives, especially the tags.
```
